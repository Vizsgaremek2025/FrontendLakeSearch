<div class="login-container">
  <div class="login-wrapper">
    <div class="login-card">
      <div class="login-header">
        <img src="lake_search_logo.png" alt="Logo" class="logo">
        <h2>Regisztráció</h2>
        <p>Kérjük, adja meg a regisztrációhoz az adatait</p>
      </div>

      <form #registerForm="ngForm" (ngSubmit)="onSubmit(registerForm)" class="login-form">
        <div class="form-group">
          <label for="username">Felhasználónév</label>
          <div class="input-with-icon">
            <i class="fas fa-user"></i>
            <input type="text" id="username" placeholder="Felhasználónév"
              [(ngModel)]="user.name" name="username" required #username="ngModel"
              [class.is-invalid]="isSubmitted && username.invalid">
          </div>
        </div>

        <div class="form-group">
          <label for="email">Email cím</label>
          <div class="input-with-icon">
            <i class="fas fa-envelope"></i>
            <input type="email" id="email" placeholder="Email cím"
              [(ngModel)]="user.email" name="email" required #email="ngModel"
              [class.is-invalid]="isSubmitted && email.invalid">
          </div>
        </div>

        <div class="form-group">
          <label for="password">Jelszó</label>
          <div class="input-with-icon">
            <i class="fas fa-lock"></i>
            <input type="{{ passwordVisible ? 'text' : 'password' }}" id="password" placeholder="Jelszó"
              [(ngModel)]="user.password" name="password" required #password="ngModel"
              [class.is-invalid]="isSubmitted && password.invalid">
            <i [class]="passwordVisible ? 'fas fa-eye' : 'fas fa-eye-slash'"
               class="password-toggle" (click)="togglePasswordVisibility()"></i>
          </div>
        </div>

        <div class="form-group">
          <label for="confirmPassword">Jelszó megerősítése</label>
          <div class="input-with-icon">
            <i class="fas fa-lock"></i>
            <input type="{{ confirmPasswordVisible ? 'text' : 'password' }}" id="confirmPassword" placeholder="Jelszó újra"
              [(ngModel)]="user.confirmPassword" name="confirmPassword" required #confirmPassword="ngModel"
              [class.is-invalid]="isSubmitted && confirmPassword.invalid">
            <i [class]="confirmPasswordVisible ? 'fas fa-eye' : 'fas fa-eye-slash'"
               class="password-toggle" (click)="toggleConfirmPasswordVisibility()"></i>
          </div>
        </div>

        <button type="submit" class="login-button">Regisztráció</button>

        <p class="register-link">Már van fiókja? <a routerLink="/login">Bejelentkezés</a></p>
      </form>

      @if (message) {
        <div class="message-alert" [ngClass]="{ 'success': isSuccess, 'error': !isSuccess }">
          <i [class]="isSuccess ? 'fas fa-check-circle' : 'fas fa-exclamation-circle'"></i>
          {{ message }}
        </div>
      }
    </div>
  </div>
</div>
